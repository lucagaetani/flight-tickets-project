{
  "version": 3,
  "sources": ["../../../src/dialects/mysql/index.ts"],
  "sourcesContent": ["import type { Sequelize } from '../../sequelize.js';\nimport { createUnspecifiedOrderedBindCollector } from '../../utils/sql';\nimport { AbstractDialect } from '../abstract';\nimport type { SupportableNumericOptions } from '../abstract';\nimport { MySqlConnectionManager } from './connection-manager';\nimport * as DataTypes from './data-types';\nimport { registerMySqlDbDataTypeParsers } from './data-types.db.js';\nimport { escapeMysqlString } from './mysql-utils';\nimport { MySqlQuery } from './query';\nimport { MySqlQueryGenerator } from './query-generator';\nimport { MySqlQueryInterface } from './query-interface';\n\nconst numericOptions: SupportableNumericOptions = {\n  zerofill: true,\n  unsigned: true,\n};\n\nexport class MysqlDialect extends AbstractDialect {\n  static supports = AbstractDialect.extendSupport(\n    {\n      'VALUES ()': true,\n      'LIMIT ON UPDATE': true,\n      lock: true,\n      forShare: 'LOCK IN SHARE MODE',\n      settingIsolationLevelDuringTransaction: false,\n      schemas: true,\n      inserts: {\n        ignoreDuplicates: ' IGNORE',\n        updateOnDuplicate: ' ON DUPLICATE KEY UPDATE',\n      },\n      index: {\n        collate: false,\n        length: true,\n        parser: true,\n        type: true,\n        using: 1,\n      },\n      constraints: {\n        check: false,\n        foreignKeyChecksDisableable: true,\n        remove: false,\n      },\n      indexViaAlter: true,\n      indexHints: true,\n      dataTypes: {\n        COLLATE_BINARY: true,\n        GEOMETRY: true,\n        INTS: numericOptions,\n        FLOAT: { ...numericOptions, scaleAndPrecision: true },\n        REAL: { ...numericOptions, scaleAndPrecision: true },\n        DOUBLE: { ...numericOptions, scaleAndPrecision: true },\n        DECIMAL: numericOptions,\n        JSON: true,\n      },\n      jsonOperations: true,\n      jsonExtraction: {\n        unquoted: true,\n        quoted: true,\n      },\n      REGEXP: true,\n      globalTimeZoneConfig: true,\n      maxExecutionTimeHint: {\n        select: true,\n      },\n    },\n  );\n\n  readonly connectionManager: MySqlConnectionManager;\n  readonly queryGenerator: MySqlQueryGenerator;\n  readonly queryInterface: MySqlQueryInterface;\n  readonly Query = MySqlQuery;\n  readonly dataTypesDocumentationUrl = 'https://dev.mysql.com/doc/refman/5.7/en/data-types.html';\n\n  // minimum supported version\n  readonly defaultVersion = '5.7.0';\n  readonly TICK_CHAR_LEFT = '`';\n  readonly TICK_CHAR_RIGHT = '`';\n\n  constructor(sequelize: Sequelize) {\n    super(sequelize, DataTypes, 'mysql');\n    this.connectionManager = new MySqlConnectionManager(this, sequelize);\n    this.queryGenerator = new MySqlQueryGenerator({\n      dialect: this,\n      sequelize,\n    });\n    this.queryInterface = new MySqlQueryInterface(\n      sequelize,\n      this.queryGenerator,\n    );\n\n    registerMySqlDbDataTypeParsers(this);\n  }\n\n  createBindCollector() {\n    return createUnspecifiedOrderedBindCollector();\n  }\n\n  escapeString(value: string): string {\n    return escapeMysqlString(value);\n  }\n\n  canBackslashEscape() {\n    return true;\n  }\n\n  getDefaultSchema(): string {\n    return this.sequelize.options.database ?? '';\n  }\n\n  static getDefaultPort() {\n    return 3306;\n  }\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,iBAAsD;AACtD,sBAAgC;AAEhC,gCAAuC;AACvC,gBAA2B;AAC3B,2BAA+C;AAC/C,yBAAkC;AAClC,mBAA2B;AAC3B,6BAAoC;AACpC,6BAAoC;AAEpC,MAAM,iBAA4C;AAAA,EAChD,UAAU;AAAA,EACV,UAAU;AACZ;AAEO,MAAM,qBAAqB,gCAAgB;AAAA,EAChD,OAAO,WAAW,gCAAgB;AAAA,IAChC;AAAA,MACE,aAAa;AAAA,MACb,mBAAmB;AAAA,MACnB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,wCAAwC;AAAA,MACxC,SAAS;AAAA,MACT,SAAS;AAAA,QACP,kBAAkB;AAAA,QAClB,mBAAmB;AAAA,MACrB;AAAA,MACA,OAAO;AAAA,QACL,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,MACA,aAAa;AAAA,QACX,OAAO;AAAA,QACP,6BAA6B;AAAA,QAC7B,QAAQ;AAAA,MACV;AAAA,MACA,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,WAAW;AAAA,QACT,gBAAgB;AAAA,QAChB,UAAU;AAAA,QACV,MAAM;AAAA,QACN,OAAO,EAAE,GAAG,gBAAgB,mBAAmB,KAAK;AAAA,QACpD,MAAM,EAAE,GAAG,gBAAgB,mBAAmB,KAAK;AAAA,QACnD,QAAQ,EAAE,GAAG,gBAAgB,mBAAmB,KAAK;AAAA,QACrD,SAAS;AAAA,QACT,MAAM;AAAA,MACR;AAAA,MACA,gBAAgB;AAAA,MAChB,gBAAgB;AAAA,QACd,UAAU;AAAA,QACV,QAAQ;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,MACR,sBAAsB;AAAA,MACtB,sBAAsB;AAAA,QACpB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AAAA,EAES;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAQ;AAAA,EACR,4BAA4B;AAAA;AAAA,EAG5B,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,kBAAkB;AAAA,EAE3B,YAAY,WAAsB;AAChC,UAAM,WAAW,WAAW,OAAO;AACnC,SAAK,oBAAoB,IAAI,iDAAuB,MAAM,SAAS;AACnE,SAAK,iBAAiB,IAAI,2CAAoB;AAAA,MAC5C,SAAS;AAAA,MACT;AAAA,IACF,CAAC;AACD,SAAK,iBAAiB,IAAI;AAAA,MACxB;AAAA,MACA,KAAK;AAAA,IACP;AAEA,6DAA+B,IAAI;AAAA,EACrC;AAAA,EAEA,sBAAsB;AACpB,eAAO,kDAAsC;AAAA,EAC/C;AAAA,EAEA,aAAa,OAAuB;AAClC,eAAO,sCAAkB,KAAK;AAAA,EAChC;AAAA,EAEA,qBAAqB;AACnB,WAAO;AAAA,EACT;AAAA,EAEA,mBAA2B;AACzB,WAAO,KAAK,UAAU,QAAQ,YAAY;AAAA,EAC5C;AAAA,EAEA,OAAO,iBAAiB;AACtB,WAAO;AAAA,EACT;AACF;",
  "names": []
}
